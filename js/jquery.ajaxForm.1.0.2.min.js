(function(n){n.AjaxForm=function(n,t){this.object=n,this.options=t,this.request={},this.overrideFormSubmit()},n.AjaxForm.defaults={method:"POST"},n.AjaxForm.prototype={getRequest:function(){return this.request},getCompleteCallback:function(n){var r=n.status==200,u=n.responseText,i=this.options.afterSend;typeof i!="undefined"&&i.apply(this.object,[r,u])},getFormData:function(){return this.object.enctype=="multipart/form-data"?new FormData(this.object):n(this.object).serialize()},decorateRequest:function(n){var r=this,i=this.object,t=this.options,n=n||this.getRequest();n.url=i.action,n.type=i.method,n.contentType=i.enctype!="multipart/form-data",n.processData=i.enctype!="multipart/form-data",n.data=this.getFormData(),n.dataType=typeof t.dataType!="undefined"&&t.dataType!=null?t.dataType:"html",n.beforeSend=typeof t.beforeSend!="undefined"&&t.beforeSend!=null?t.beforeSend:null,n.complete=function(n,t){r.getCompleteCallback.apply(r,[n,t])}},sendRequest:function(){var t=this.getRequest();this.decorateRequest(t),n.ajax(t)},overrideFormSubmit:function(){var t=this;n(this.object).submit(function(){return t.sendRequest(),!1})}},n.fn.extend({ajaxForm:function(t){var i=n.extend({},n.AjaxForm.defaults,t);return this.each(function(){new n.AjaxForm(this,i)})}})})(window.jQuery);